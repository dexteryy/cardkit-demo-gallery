<!DOCTYPE html>
<html>
<head>
@@include("common/header.html", { 
    "title": "@@appname" 
})
<style>
.rangerbox {
    position:relative;
}
</style>
</head>
<body>

@@include("common/actions.html")

<div class="my-app">

@@include("pagecard/navdrawer.html")

<ck-card type="page" id="ckDefault">

    @@include("common/page_parts.html", { 
        "title": "Picker"
    })

    <ck-card type="list" subtype="menu">
        <ck-part type="hd">Source code</ck-part>
        <ck-part type="item">
            <ck-part type="title" href="https://github.com/douban-f2e/CardKit/blob/master/cardkit/ui/picker.js" target="_blank">cardkit/ui/picker</ck-part>
            <ck-part type="desc">`require('cardkit').picker`</ck-part>
        </ck-part>
        <ck-part type="item">
            <ck-part type="title" href="https://github.com/dexteryy/moui/blob/master/picker.js" target="_blank">moui/picker</ck-part>
            <ck-part type="desc">The original class</ck-part>
        </ck-part>
        <ck-part type="item">
            <ck-part type="title" href="https://github.com/douban-f2e/CardKit/blob/master/scss/cardkit/active/_picker.scss" target="_blank">scss/cardkit/active/_picker.scss</ck-part>
            <ck-part type="desc">Skin</ck-part>
        </ck-part>
        <ck-part type="item">
            <ck-part type="title" href="https://github.com/douban-f2e/cardkit-demo-gallery/blob/master/docs/picker.html" target="_blank">cardkit-demo-gallery/docs/picker.html</ck-part>
            <ck-part type="desc">The current page</ck-part>
        </ck-part>
    </ck-card>

    <ck-card type="box" paper-style="true">
        <ck-part type="hd"><span id="usages">Usages</span></ck-part>
    </ck-card>

    <ck-card type="box" plain-style="true">
        <ck-part type="hd">Segmented selector</ck-part>
    </ck-card>

    <ck-card type="form">
        <ck-part type="hd">Examples</ck-part>
        <ck-part type="item">
<!--demo-->
<div class="ck-segment" id="picker1"
        data-ignore-repeat="true">
    <button type="button" class="ck-option" value="1"
        data-enable-method="get"
        data-enable-url="api/enable.html">Option 1</button>
    <button type="button" class="ck-option enabled" value="2"
        data-enable-method="get"
        data-enable-url="api/enable.html">Option 2</button>
    <button type="button" class="ck-option" value="3"
        data-enable-method="get"
        data-enable-url="api/enable.html">Option 3</button>
</div>
<script type="text/darkscript">
var me = this;
require([
    'dollar', 
    'cardkit', 
    'show-result'
], function($, ck, show_result){
    $('#picker1').on('picker:change', show_result)
        .on('picker:response', function(e){
            var result = e.component.responseData;
            console.info('response: ', result);
            ck.notify('response: ' + result, {
                corner: 'center',
                expires: 1400
            });
        });
});
</script>
<!--demo end-->
            @@include("common/show_html.html")
        </ck-part>
        <ck-part type="item">
<!--demo-->
<div class="ck-segment picker1-2 demo" 
        data-label="false">
    <button type="button" class="ck-option" 
            value="up"
            data-num-field=".op-num span"
            data-enable-method="get"
            data-enable-url="api/enable.html">Up
        <span class="op-num">(<span>100</span>)</span>
    </button>
    <button type="button" class="ck-option"
            value="down"
            data-num-field=".op-num span"
            data-enable-method="get"
            data-enable-url="api/disable.html">Down
        <span class="op-num">(<span>6</span>)</span>
    </button>
</div>
<!--demo end-->
            @@include("common/show_html.html")
            @@include("common/show_js.html", {
                "source": "#jsForAllDemo" 
            })
        </ck-part>
    </ck-card>

    <ck-card type="box" plain-style="true">
        <ck-part type="hd">Tag selector</ck-part>
    </ck-card>

    <ck-card type="form">
        <ck-part type="hd">Examples</ck-part>
        <ck-part type="item">
            <ck-part type="title">Single Select</ck-part>
<!--demo-->
<div class="ck-tagselector demo" id="picker2">
    <input type="hidden" value="">
    <input class="ck-option" type="button" value="linux">
    <input class="ck-option" type="button" value="CSS">
    <input class="ck-option" type="button" value="奇幻">
    <input class="ck-option" type="button" value="史诗">
    <input class="ck-option" type="button" value="ajax">
    <input class="ck-option" type="button" value="RubyOnRails">
    <input class="ck-option" type="button" value="javascript">
    <input class="ck-option" type="button" value="OPENGL">
</div>
<!--demo end-->
            @@include("common/show_html.html")
            @@include("common/show_js.html", {
                "source": "#jsForAllDemo" 
            })
        </ck-part>
        <ck-part type="item">
            <ck-part type="title">Multiple Select</ck-part>
<!--demo-->
<div class="ck-tagselector demo" id="picker3"
        data-multiselect="true">
    <input type="hidden" value="">
    <input class="ck-option" type="button" value="linux">
    <input class="ck-option" type="button" value="CSS">
    <input class="ck-option" type="button" value="奇幻">
    <input class="ck-option" type="button" value="史诗">
    <input class="ck-option" type="button" value="ajax">
    <input class="ck-option" type="button" value="RubyOnRails">
    <input class="ck-option" type="button" value="javascript">
    <input class="ck-option" type="button" value="OPENGL">
</div>
<!--demo end-->
            @@include("common/show_html.html")
            @@include("common/show_js.html", {
                "source": "#jsForAllDemo" 
            })
        </ck-part>
    </ck-card>

    <ck-card type="box" plain-style="true">
        <ck-part type="hd">Actions</ck-part>
    </ck-card>

    <ck-card type="form">
        <ck-part type="hd">Examples</ck-part>
        <ck-part type="item">
<!--demo-->
<ul class="ck-actions" id="actions1">
    <li><a href="#on" class="ck-option">Select All</a></li>
    <li><a href="#off" class="ck-option">Unselect All</a></li>
    <li><a href="#invert" class="ck-option">Select Invert</a></li>
    <li><a href="#undo" class="ck-option">Undo</a></li>
</ul>
<p>
<div class="ck-tagselector" id="actions1_1"
        data-multiselect="true">
    <input type="hidden" value="">
    <input class="ck-option" type="button" value="linux">
    <input class="ck-option" type="button" value="CSS">
    <input class="ck-option" type="button" value="奇幻">
    <input class="ck-option" type="button" value="史诗">
    <input class="ck-option" type="button" value="ajax">
    <input class="ck-option" type="button" value="RubyOnRails">
    <input class="ck-option" type="button" value="javascript">
    <input class="ck-option" type="button" value="OPENGL">
</div>
</p>
<script type="text/darkscript">
var me = this;
require([
    'dollar', 
    'cardkit', 
    'show-result'
], function($, ck, show_result){
    $('#actions1').on('picker:change', function(e){
        var result = e.component.val()
        if (!result) {
            return;
        }
        var action_picker = ck.picker($('#actions1_1'));
        switch (result.replace(/.*#/, '')) {
            case 'on':
                action_picker.selectAll();
                break;
            case 'off':
                action_picker.unselectAll();
                break;
            case 'invert':
                action_picker.selectInvert();
                break;
            case 'undo':
                action_picker.undo();
                break;
            default:
        }
        me.updateDarkDOM();
    });
    $('#actions1_1').on('picker:change', show_result);
});
</script>
<!--demo end-->
            @@include("common/show_html.html")
        </ck-part>
    </ck-card>

    <ck-card type="box" plain-style="true">
        <ck-part type="hd">Slider</ck-part>
    </ck-card>

    <ck-card type="form">
        <ck-part type="hd">Examples</ck-part>
        <ck-part type="item">
<!--demo-->
<div class="rangerbox">
    <input class="ck-ranger demo"
        data-url="picker.html?page={{value}}00"
        type="range" min="1" max="13" step="1">
</div>
<!--demo end-->
            @@include("common/show_html.html")
        </ck-part>
        <ck-part type="item">
<!--demo-->
<div class="rangerbox">
    <input class="ck-ranger" id="ranger1"
        type="range" min="0.5" max="45" step="0.2">
</div>
<script type="text/darkscript">
var $ = require('dollar'); 
var ck = require('cardkit');
$('#ranger1').on('ranger:changed', function(e){
    ck.notify(e.component.val(), {
        corner: 'center'
    });
});
</script>
<!--demo end-->
            @@include("common/show_html.html")
        </ck-part>
        <ck-part type="item">
<!--demo-->
<div class="ck-stars demo-rating demo">
    <input class="slider-field" id="rating" type="range" min="0" max="5" step="1" value="2"/>
    <div class="slider-selected" style="width:50px;display:block;"></div>
    <div class="slider-hover"></div>
</div>
<!--demo end-->
            @@include("common/show_html.html")
        </ck-part>
    </ck-card>

    @@include("common/default_page_footer.html")

</ck-card>

@@include("common/common_pages.html")

</div>

@@include("common/footer.html")

<script id="jsForAllDemo">
define('show-result', ['cardkit'], function(ck){
    return function(e){
        var result = e.component.val();
        console.info('value: ', result);
        ck.notify('value: ' + result, {
            expires: 1400
        });
    }
});

require([
    'dollar',
    'show-result',
    'cardkit'
], function($, show_result, ck){

    ck.brightDelegate.on('picker:change', {
        '.picker1-2': show_result,
    });

    ck.darkDelegate.on('picker:change', {
        '#picker2': show_result,
        '#picker3': show_result
    });

});
</script>
</body>
</html>

